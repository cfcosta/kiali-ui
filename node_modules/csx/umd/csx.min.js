!function(t,r){"object"==typeof exports&&"undefined"!=typeof module?r(exports):"function"==typeof define&&define.amd?define(["exports"],r):r(t.csx={})}(this,function(t){"use strict"
function r(t){return null!==t&&void 0!==t}function n(t){return""!==t}var e=function(t,r){return Array.prototype.map.call(t,r)}
var o=/[\s]*([a-z-]+)[\s]*\([\s]*([^\)]+)[\s]*\)[\s]*/i,i=/^(\-?\d+\.?\d{0,5})/,a=function(t){return function(r){return r+t}},u=parseFloat
function f(t){return"number"==typeof t?t:.01*u(t)}function c(t){return s(100*t)+"%"}function s(t){return i.exec(t.toString())[1]}function p(t,r){return t+"("+Array.prototype.join.call(r,",")+")"}function l(t){return function(){return p(t,arguments)}}var h=a("%"),v=a("deg"),g=a("em"),d=a("px"),y=a("rad"),b=a("rem"),w=a("vh"),m=a("vw"),x=a("turn"),S=function(t){return function(){return(r=arguments,n=function(t){return t||0===t},Array.prototype.filter.call(r,n)).map(function(t){return"number"==typeof t?d(t):t.toString()}).join(t)
var r,n}},j=S(" "),k=S(",")
var H=j,X=j,Y=j,A=Math.round
function G(t,r){return A(t*r)/r}var L="rgb",M="hsl",Z=((z={})[L+M]=function(t,r,n,e,o){var i,a,u=t/255,f=r/255,c=n/255,s=Math.min(u,f,c),p=Math.max(u,f,c),l=(s+p)/2,h=p-s
i=p===s?0:u===p?(f-c)/h:f===p?2+(c-u)/h:c===p?4+(u-f)/h:0
0>(i=Math.min(60*i,360))&&(i+=360)
a=p===s?0:l>.5?h/(2-p-s):h/(p+s)
return new E(M,i,a,l,e,o)},z[M+L]=function(t,r,n,e,o){var i=t/360,a=r,u=n
if(0===a){var f=255*u
return new E(L,f,f,f,e,o)}for(var c=.5>u?u*(1+a):u+a-u*a,s=2*u-c,p=0,l=0,h=0,v=0;3>v;v++){var g=i+1/3*-(v-1)
0>g&&g++,g>1&&g--
var f=void 0
f=1>6*g?s+6*(c-s)*g:1>2*g?c:2>3*g?s+(c-s)*(2/3-g)*6:s,f*=255,0===v?p=f:1===v?l=f:h=f}return new E(L,p,l,h,e,o)},z),B={r:255,g:255,b:255,h:360,s:1,l:1,a:1}
function R(t){return function(t){var r=t.match(/#(([a-f0-9]{6})|([a-f0-9]{3}))$/i)
if(!r)return
var n=r[1],e=parseInt(3===n.length?n[0]+n[0]+n[1]+n[1]+n[2]+n[2]:n,16)
return new E(L,e>>16&255,e>>8&255,255&e,1,!1)}(t)||function(t){var r=function(t){var r=o.exec(t)
if(r&&r.length)return[r[1]].concat(r[2].split(","))}(t)
if(!r||4!==r.length&&5!==r.length)return
var n,e=r[0],i="rgba"===e,a="hsla"===e,c=e===L,s=a||i
if(c||i)n=L
else{if(e!==M&&!a)throw new Error("unsupported color string")
n=M}var p=u(r[1]),l=c||i?u(r[2]):f(r[2]),h=c||i?u(r[3]):f(r[3]),v=s?u(r[4]):1
return new E(n,p,l,h,v,s)}(t)||C(255,0,0)}function C(t,r,n){return new E(L,t,r,n,1,!1)}function I(t,r,n){var e=r.f,o=r.r,i=r.g,a=r.b,u=r.a,f=void 0===n?r.o:n
return e!==t?Z[e+t](o,i,a,u,f):void 0===n?r:new E(e,o,i,a,u,f)}var z,E=function(){function t(t,r,n,e,o,i){this.f=t,this.o=i
var a=t===M
this.r=q(a?"h":"r",r),this.g=q(a?"s":"g",n),this.b=q(a?"l":"b",e),this.a=q("a",o)}return t.prototype.toString=function(){var t,r,n=this,e=n.o,o=n.f,i=n.r,a=n.g,u=n.b,f=n.a
if(o===L)t=e?"rgba":L,r=[A(i),A(a),A(u)]
else{if(o!==M)throw new Error("Invalid color format")
t=e?"hsla":M,r=[A(i),c(G(a,100)),c(G(u,100))]}return e&&r.push(s(G(f,1e5))),p(t,r)},t.prototype.toHexString=function(){var t=I(L,this)
return"#"+(O(t.r)+O(t.g)+O(t.b)).toUpperCase()},t.prototype.toHSL=function(){return I(M,this,!1)},t.prototype.toHSLA=function(){return I(M,this,!0)},t.prototype.toRGB=function(){return I(L,this,!1)},t.prototype.toRGBA=function(){return I(L,this,!0)},t.prototype.red=function(){var _=this
return(_.f===L?_:_.toRGB()).r},t.prototype.green=function(){var _=this
return(_.f===L?_:_.toRGB()).g},t.prototype.blue=function(){var _=this
return(_.f===L?_:_.toRGB()).b},t.prototype.hue=function(){var _=this
return(_.f===M?_:_.toHSL()).r},t.prototype.saturation=function(){var _=this
return(_.f===M?_:_.toHSL()).g},t.prototype.lightness=function(){var _=this
return(_.f===M?_:_.toHSL()).b},t.prototype.alpha=function(){return this.a},t.prototype.opacity=function(){return this.a},t.prototype.invert=function(){var _=this,r=I(L,_)
return I(_.f,new t(L,255-r.r,255-r.g,255-r.b,_.a,_.o))},t.prototype.lighten=function(r,n){var _=this,e=I(M,_),o=B.l,i=e.b+(n?o-e.b:o)*f(r)
return I(_.f,new t(M,e.r,e.g,i,_.a,_.o))},t.prototype.darken=function(r,n){var _=this,e=I(M,_),o=e.b-(n?e.b:B.l)*f(r)
return I(_.f,new t(M,e.r,e.g,o,_.a,_.o))},t.prototype.saturate=function(r,n){var _=this,e=I(M,_),o=B.s,i=e.g+(n?o-e.g:o)*f(r)
return I(_.f,new t(M,e.r,i,e.b,_.a,_.o))},t.prototype.desaturate=function(r,n){var _=this,e=I(M,_),o=B.s,i=e.g-(n?e.g:o)*f(r)
return I(_.f,new t(M,e.r,i,e.b,_.a,_.o))},t.prototype.grayscale=function(){return this.desaturate(1)},t.prototype.fade=function(r){var _=this,n=q("a",f(r))
return I(_.f,new t(_.f,_.r,_.g,_.b,n,!0))},t.prototype.fadeOut=function(r,n){var _=this,e=q("a",_.a-(n?_.a:1)*f(r))
return I(_.f,new t(_.f,_.r,_.g,_.b,e,!0))},t.prototype.fadeIn=function(r,n){var _=this,e=q("a",_.a+(n?_.a:1)*f(r))
return I(_.f,new t(_.f,_.r,_.g,_.b,e,!0))},t.prototype.mix=function(r,n){var e=F(r),o=I(L,this),i=I(L,e),a=void 0===n?.5:n,u=2*a-1,f=Math.abs(o.a-i.a),c=((u*f==-1?u:(u+f)/(1+u*f))+1)/2,s=1-c,p=new t(L,A(o.r*c+i.r*s),A(o.g*c+i.g*s),A(o.b*c+i.b*s),o.a*a+i.a*(1-a),this.o||e.o)
return I(this.f,p)},t.prototype.tint=function(t){return C(255,255,255).mix(this,t)},t.prototype.shade=function(t){return C(0,0,0).mix(this,t)},t.prototype.spin=function(r){var _=this,n=I(M,_)
return I(_.f,new t(M,W(n.r+r),n.g,n.b,_.a,_.o))},t}()
function O(t){var r=A(t)
return(16>r?"0":"")+r.toString(16)}function W(t){return((0>t?360:0)+t%360)%360}function q(t,r){var n=0,e=B[t]
return n>r?n:r>e?e:r}function F(t){return t instanceof E?t:R(t)}function P(t){return Array.isArray(t)?t.map(function(t){return t.toString()}).join(" "):t.toString()}var U=l("matrix"),$=l("matrix3d"),D=l("perspective"),J=l("rotate"),K=l("rotate3d"),N=l("rotateX"),Q=l("rotateY"),T=l("rotateZ"),V=l("scale"),tt=l("scale3d"),rt=l("scaleX"),nt=l("scaleY"),et=l("scaleZ"),ot=l("skew"),it=l("skewX"),at=l("skewY"),ut=l("translate"),ft=l("translate3d"),ct=l("translateX"),st=l("translateY"),pt=l("translateZ")
t.background=function(){return e(arguments,function(t){return[t.image,t.position,t.size,t.repeat,t.origin,t.clip,t.attachment,t.color].filter(r).join(" ")}).filter(n).join(",")},t.border=function(t){return j(t.color,t.style,function(t){if(null!==t&&void 0!==t){var r=+t
return r==r?t+"px":t}}(t.width))},t.borderColor=H,t.borderStyle=X,t.borderWidth=Y,t.color=R,t.hsl=function(t,r,n){return new E(M,W(t),f(r),f(n),1,!1)},t.hsla=function(t,r,n,e){return new E(M,W(t),f(r),f(n),f(e),!0)},t.rgb=C,t.rgba=function(t,r,n,e){return new E(L,t,r,n,f(e),!0)},t.ColorHelper=E,t.linearGradient=function(t){for(var r=[],n=1;n<arguments.length;n++)r[n-1]=arguments[n]
return p("linear-gradient",[t].concat(r.map(P)))},t.repeatingLinearGradient=function(t){for(var r=[],n=1;n<arguments.length;n++)r[n-1]=arguments[n]
return p("repeating-linear-gradient",[t].concat(r.map(P)))},t.params=j,t.list=k,t.calc=function(t){return"calc("+t+")"},t.quote=function(t){return"'"+(t||0===t?t.toString():"").replace(/\'/g,"\\'")+"'"},t.important=function(t){return t||0===t?t.toString()+" !important":""},t.url=function(t){return"url("+(t||"")+")"},t.transform=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r]
return t.length?t.join(" "):"none"},t.matrix=U,t.matrix3d=$,t.perspective=D,t.rotate=J,t.rotate3d=K,t.rotateX=N,t.rotateY=Q,t.rotateZ=T,t.scale=V,t.scale3d=tt,t.scaleX=rt,t.scaleY=nt,t.scaleZ=et,t.skew=ot,t.skewX=it,t.skewY=at,t.translate=ut,t.translate3d=ft,t.translateX=ct,t.translateY=st,t.translateZ=pt,t.percent=h,t.deg=v,t.em=g,t.px=d,t.rad=y,t.rem=b,t.viewHeight=w,t.viewWidth=m,t.turn=x,Object.defineProperty(t,"__esModule",{value:!0})})
